%%%%%%%%------------------------------------------------------------------------
% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
% 
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
% 
% You should have received a copy of the GNU General Public License
% along with this program.  If not, see <http://www.gnu.org/licenses/>.

%%%%%%%%------------------------------------------------------------------------
%%%% Introduction area
%% Document type is article
\documentclass[a4paper, 10pt]{book}
%1m = 39.4 inch
%大18开 （18.5cm * 23cm)
%\usepackage[left=3.25cm, right=3.25cm, top=2.3cm,bottom=1.4cm]{geometry}
\usepackage{geometry}
\geometry{left=3.75cm,right=3.25cm,top=3cm,bottom=2.5cm}

\usepackage{tikz}
%% \usepackage{graphicx}

%% en_preamble Contains basic package configuration
\input{style/en_preamble}

%% If you don't write Chinese, you don't need to quote xecjk_preamble inside configuration.
\input{style/xecjk_preamble}

\input{style/coding}

% \usepackage[
%   placement=center,
%   angle=45,
%   scale=20,
%   color=black!40,
%   %hshift=60,
%   %vshift=-5
% ]{background}

% \backgroundsetup{contents={Sample chapter}}
% \backgroundsetup{contents={\includegraphics[width=0.2\textwidth]{figures/cock.jpg}}}

\newcommand{\myclearpage}{\clearpage{\pagestyle{empty}\cleardoublepage}}
\newcommand{\mydedicate}{\clearpage{\pagestyle{empty}\cleardedicatepage}}

%%%% End of the introduction area
%%%%%%%%------------------------------------------------------------------------

%%%%%%%%------------------------------------------------------------------------
%%%% Body section

\begin{document}


\frontmatter
\pagestyle{empty}

%%Custom cover
\def\titlename{TensorFlow kernel analysis}
\def\subtitle{TensorFlow Internals}
\def\authors{Liu Guangcong}
% \def\orgnization{\ascii{}}

\input{style/title}
\myclearpage

\mydedicate

\input{contents/foreword}
\myclearpage

\input{contents/preface}
\myclearpage

\tableofcontents
\myclearpage

\def\thelstlisting{\thechapter-\arabic{lstlisting}}
%% Chinese rule of thumb is to set the first line indented to 2em.
%% Note that this setting must be in document. In the environment, this may be related to \setlength scope of action
\setlength{\parindent}{2em}

%%%%%%%%%%%%%%%%%%%%%%
%%Start the body, the page count starts from the body
\mainmatter
\setcounter{page}{1}
\pagestyle{fancy}

% \input{contents/logistic-regression}

\part{Basic knowledge}
  \input{contents/introduction}
  \input{contents/prog-env}
  \input{contents/ice-breaker}

\part{System structure}
  \input{contents/architecture}
  \input{contents/c-api}

\part{Programming model}
  \input{contents/graph}
  \input{contents/device}
  \input{contents/session}
  \input{contents/variable}
  \input{contents/queue}
  \input{contents/essential-op}

\part{Runtime model}
  \input{contents/local}
  \input{contents/distributed}

\part{Model training}
  \input{contents/bp}
  \input{contents/input-pipeline}
  \input{contents/saver}
  \input{contents/monitored-session}

%%%%%%%%%%%%%%%%%%％%%
\appendix

\part{Appendix}
  \input{contents/code-reading}
  \input{contents/learning}

%%%%%%%%%%%%%%%%%％%%
\backmatter
% \listoffigures
% \myclearpage

% \listoftables
% \myclearpage

\bibliographystyle{alpha}
  \input{contents/biblio}

\end{document}
%%%% End of the body part
%%%%%%%%------------------------------------------------------------------------
